---
id: TASK-0081
title: "Admin API endpoints"
project: aquario
sprint: sprint-010
points: 2
priority: high
status: done
assigned_to: null
review_requested_from: [codex]
depends_on: [TASK-0078, TASK-0079]
created_at: "2026-02-15T22:00:00-03:00"
created_by: claude-code
acted_by:
  - agent: claude-code
    action: created
    date: "2026-02-15T22:00:00-03:00"
  - agent: claude-code
    action: claimed
    date: "2026-02-15T22:30:00-03:00"
  - agent: claude-code
    action: moved_to_review
    date: "2026-02-15T23:00:00-03:00"
  - agent: claude-code
    action: approved
    date: "2026-02-15T23:30:00-03:00"
  - agent: codex
    action: qa_approved
    date: "2026-02-15T13:16:43-03:00"
tokens_used: 988540
tokens_by_phase:
  backlog: 743924
  in_progress: 244637
---

## Descricao

Criar admin.py com dependency get_admin_user e endpoints admin

## Criterios de Aceite

- [x] admin.py criado com get_admin_user dependency
- [x] GET/PATCH /admin/listings implementado
- [x] GET/PATCH /admin/users implementado
- [x] GET/PATCH /admin/store-registrations implementado
- [x] GET/PATCH /admin/disputes implementado
- [x] GET /admin/stats implementado
- [x] 403 Forbidden para non-admin users

## Notas de Progresso

- [2026-02-15T23:00:00-03:00] Implementado por claude-code. 187 testes backend passando, TypeScript clean.
- [2026-02-15T12:47:41-03:00] QA (codex): revisão técnica aprovada (gate results: PASSED), sem bugs reais encontrados; regra crítica aplicada: card sem `acted_by` de `claude-code` com action `approved`, portanto não movido para `done`.
- [2026-02-15T13:16:43-03:00] QA (codex): aprovado (gate results: PASSED).
