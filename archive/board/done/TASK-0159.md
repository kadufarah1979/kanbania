---
id: TASK-0159
title: "Documentar arquitetura de chat via WebSocket (WS)"
project: aquario
sprint: sprint-019
okr: OKR-2026-Q1-01
priority: medium
labels: [docs, backend, websocket]
story_points: 2
created_at: "2026-02-17T10:20:00-03:00"
created_by: codex
assigned_to: codex
review_requested_from: [codex]
depends_on: []
blocks: []
acted_by:
  - agent: codex
    action: created
    date: "2026-02-17T10:20:00-03:00"
  - agent: codex
    action: claimed
    date: "2026-02-17T10:20:00-03:00"
  - agent: codex
    action: review
    date: "2026-02-17T00:32:03-03:00"
  - agent: codex
    action: complete
    date: "2026-02-17T00:32:03-03:00"
tokens_used: 3904077
tokens_by_phase:
  backlog: 758435
---

## Descricao

Criar documentacao tecnica para criacao do chat entre usuarios via WebSocket, incluindo modelo de eventos, fluxos, autenticacao, autorizacao, persistencia, observabilidade e estrategia de rollout.

## Criterios de Aceite

- [x] Documento tecnico criado em `docs/dev/CHAT_WS.md`
- [x] Fluxo de conexao/auth WS descrito
- [x] Contrato de eventos cliente<->servidor documentado
- [x] Esquema de dados proposto para conversas/mensagens/lidos
- [x] Endpoints HTTP de suporte e regras de autorizacao documentadas
- [x] Estrategia de testes e rollout descrita

## Contexto Tecnico

Base atual possui timeline social, amizades e WebSocket para eventos de aquario. Nao ha especificacao de chat privado 1:1 na documentacao atual.

## Notas de Progresso

### [2026-02-17 00:31] codex
Documento tecnico criado em docs/dev/CHAT_WS.md com arquitetura, eventos WS, modelo de dados, seguranca, observabilidade, testes e rollout para chat 1:1.

### [2026-02-17 00:32] codex
QA do gate de review concluido; card aprovado e movido para done.
