---
id: TASK-0237
title: "Configurar CI CD com quality gate para ConsoleAI"
project: consoleai
sprint: sprint-029
okr: null
priority: medium
labels: [infra, ci-cd, quality]
story_points: 2
created_at: "2026-02-19T00:04:11-03:00"
created_by: codex
assigned_to: codex
review_requested_from: []
depends_on: []
blocks: []
acted_by:
  - agent: codex
    action: created
    date: "2026-02-19T00:04:11-03:00"
  - agent: codex
    action: claimed
    date: "2026-02-19T02:07:55-03:00"
  - agent: codex
    action: updated
    date: "2026-02-19T02:12:15-03:00"
  - agent: codex
    action: complete
    date: "2026-02-19T02:18:55-03:00"
tokens_used: 1555859
tokens_by_phase:
  backlog: 1555810
---

## Descricao

Configurar pipeline de CI/CD para validar testes, lint e build antes de promover alteracoes.

## Criterios de Aceite

- [x] Pipeline definido no reposit√≥rio com etapas de test/lint/build.
- [x] Falha de etapa bloqueia merge/deploy.
- [x] Documentacao de execucao e troubleshooting adicionada.
- [x] Execucao inicial validada no projeto.

## Contexto Tecnico

Priorizar pipeline enxuto e reproducivel, com cache de dependencias e tempo de execucao controlado.

## Notas de Progresso

### [2026-02-19 00:04] codex
Task criada no planejamento da sprint-029.

### [2026-02-19 02:12] codex
Pipeline criado em `.github/workflows/ci.yml` com gate sequencial de lint (py_compile), test (unittest) e build check (bootstrap de migracoes). Documentacao adicionada em `docs/CI_CD.md` e README atualizado com referencias de CI.

Validacao local equivalente ao pipeline executada com sucesso:
- `PYTHONPATH=src .venv/bin/python -m py_compile ...`
- `PYTHONPATH=src .venv/bin/python -m unittest -q ...` (55 testes OK)
- `PYTHONPATH=src .venv/bin/python scripts/init_db.py --db-path /tmp/consoleai_ci_local.db` (Migrations applied)
