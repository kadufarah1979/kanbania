---
id: TASK-0412
title: "Frontend - visualizacao de correlacoes (scatter, heatmap)"
project: aquario
sprint: sprint-058
okr: OKR-2026-Q3-02
priority: medium
labels: [feature, ux]
story_points: 3
created_at: "2026-02-21T15:00:00-03:00"
created_by: "claude-code"
assigned_to: "codex"
review_requested_from: [codex]
depends_on: [TASK-0410]
blocks: []
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-21T15:00:00-03:00"
  - agent: "claude-code"
    action: implemented
    date: "2026-02-22T10:30:00-03:00"
  - agent: "codex"
    action: "rejected_qa"
    date: "2026-02-22T22:14:25-03:00"
  - agent: "claude-code"
    action: rework
    date: "2026-02-22T12:00:00-03:00"
  - agent: "codex"
    action: "approved_qa"
    date: "2026-02-22T23:08:19-03:00"
tokens_used: 259
tokens_by_phase:
  backlog: 259
---

## Descricao

Visualizacao de correlacoes entre parametros: scatter plot de pares correlacionados
e heatmap de todos os pares com codigo de cor por forca da correlacao.

## Criterios de Aceite

- [x] Heatmap de correlacoes (matriz NxN de parametros)
- [x] Scatter plot ao clicar em um par na heatmap
- [x] Codigo de cor: azul (negativa) -> branco (neutra) -> vermelho (positiva)
- [x] Tooltip com coeficiente e interpretacao
- [x] Integrado na pagina de analytics

## Contexto Tecnico

Componentes em `src/components/analytics/`. Recharts para scatter,
HTML table para heatmap.

## Notas de Progresso

- CorrelationHeatmap: tabela NxN com cores azul/branco/vermelho
- Scatter plot com Recharts ao clicar em par significativo
- Lista de pares significativos com coeficiente, interpretacao e known_note
- Legenda de cores
- Integrado como tab "Correlacoes" na pagina /analytics
- QA codex (reprovado): `frontend/src/components/analytics/correlation-heatmap.tsx:175` tooltip da celula exibe apenas `r=...` e nao inclui a interpretacao do par; o criterio de aceite exige tooltip com coeficiente + interpretacao.
- Rework: corrigido — tooltip agora inclui interpretacao do par quando disponivel (formato: `r=0.xxx — interpretacao`).
- Branch recriada a partir de task/TASK-0411 para escopo isolado. Apenas 3 arquivos: correlation-heatmap.tsx, analytics page (add tab correlacoes), readings.ts (add tipos/funcao correlacao).
