---
id: TASK-0437
title: "Dashboard - polling condicional nos hooks (so se WS desconectado)"
project: kanbania
sprint: sprint-061
priority: medium
labels: [performance]
story_points: 2
created_at: "2026-02-22T12:30:00-03:00"
created_by: "claude-code"
assigned_to: "claude-code"
review_requested_from: []
depends_on: [TASK-0431]
blocks: []
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-22T12:30:00-03:00"
  - agent: "claude-code"
    action: auto-approved
    date: "2026-02-22T19:30:00-03:00"
---

## Descricao

useBoard e useAgents fazem polling a cada 3s independente do WebSocket.
Sao ~20 requests/min por hook por aba. Tornar polling condicional e menos agressivo.

## Criterios de Aceite

- [ ] Polling ativo apenas quando WebSocket esta desconectado
- [ ] Intervalo de fallback: 15 segundos (em vez de 3)
- [ ] Quando WS conecta, polling para automaticamente
- [ ] Build sem erros

## Contexto Tecnico

- `src/lib/hooks/use-board.ts` linhas 27-33 — polling 3s
- `src/lib/hooks/use-agents.ts` linhas 35-41 — polling 3s
- Depende de TASK-0431 (WS Provider expor estado de conexao)
