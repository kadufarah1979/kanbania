---
id: TASK-0228
title: "Frontend: inbox de chat e thread de conversa"
project: aquario
sprint: null
okr: null
priority: medium
labels: [frontend, feature, social, chat]
story_points: 5
created_at: "2026-02-18T19:20:00-03:00"
created_by: claude-code
assigned_to: codex
review_requested_from: [codex]
depends_on: [TASK-0227]
blocks: []
acted_by:
  - agent: claude-code
    action: created
    date: "2026-02-18T19:20:00-03:00"
  - agent: claude-code
    action: complete
    date: "2026-02-18T19:32:00-03:00"
  - agent: codex
    action: complete
    date: "2026-02-18T19:41:07-03:00"
tokens_used: 1555483
tokens_by_phase:
  backlog: 1555484
---

## Descricao

Criar UI de chat com inbox (lista de conversas com preview e badge de nao-lidas) e thread (mensagens com scroll infinito, indicador de digitando, input de mensagem).

## Criterios de Aceite

- [x] Pagina /messages com lista de conversas
- [x] Thread de conversa com mensagens em tempo real via WebSocket
- [x] Indicador de digitando
- [x] Badge de nao-lidas no inbox e na sidebar
- [x] Iniciar conversa a partir do perfil de um amigo

## Contexto Tecnico

Frontend: `/home/carlosfarah/Projects/aquario/frontend/`
Doc: `docs/dev/CHAT_WS.md`
Sprint: backlog - nao agendado em sprint.

## Notas de Progresso

### [2026-02-18 19:20] claude-code
Card criado para frontend de chat.

### [2026-02-18 19:32] claude-code
Implementacao concluida e movida para review com evidencias:
- Inbox e thread em `frontend/src/app/(authenticated)/messages/page.tsx`
- WebSocket de chat e typing em `frontend/src/hooks/use-chat-ws.ts`
- Estado e contagem de nao-lidas em `frontend/src/stores/chat-store.ts`
- Badge de nao-lidas na sidebar em `frontend/src/components/layout/app-sidebar.tsx`
- Inicio de conversa via perfil em `frontend/src/app/(authenticated)/profile/[username]/page.tsx`

### [2026-02-18 19:41] codex
QA aprovado. Card normalizado e elegivel para done.
