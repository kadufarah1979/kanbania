---
id: TASK-0403
title: "Frontend - preview de post antes de publicar no Instagram"
project: aquario
sprint: sprint-056
okr: OKR-2026-Q3-01
priority: medium
labels: [feature, ux]
story_points: 5
created_at: "2026-02-21T15:00:00-03:00"
created_by: "claude-code"
assigned_to: "claude-code"
review_requested_from: []
depends_on: [TASK-0401]
blocks: []
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-21T15:00:00-03:00"
  - agent: "claude-code"
    action: moved-to-review
    date: "2026-02-22T20:00:00-03:00"
tokens_used: 259
tokens_by_phase:
  backlog: 259
---

## Descricao

Criar modal de preview antes de publicar no Instagram. Mostra como o post
vai aparecer (foto, caption, hashtags), permite editar caption e escolher
hashtags sugeridas.

## Criterios de Aceite

- [x] Modal com preview visual estilo Instagram (foto quadrada, caption abaixo)
- [x] Editor de caption com contador de caracteres (max 2200)
- [x] Sugestao automatica de hashtags (baseado em parametros do aquario)
- [x] Botao "Publicar agora" e "Agendar"
- [x] Feedback de sucesso/erro apos publicacao

## Contexto Tecnico

Componente em `src/components/social/instagram-preview.tsx`.
Integrar com galeria de fotos existente para selecao de imagem.

## Notas de Progresso

- 2026-02-22: InstagramPreview modal com foto quadrada, carousel com dots+setas, textarea com contador 2200 chars, 12 hashtags sugeridas toggleaveis, botao "Publicar agora", feedback sucesso/erro com link para IG. Single image e carousel. tsc OK.
  - agent: "codex"
    action: "rejected_qa"
    date: "2026-02-22T15:38:04-03:00"
- 2026-02-22: QA reprovado. Critério "Botao Agendar" não atendido: componente expõe apenas "Publicar agora" (`frontend/src/components/social/instagram-preview.tsx:285`).
- 2026-02-22: Fix aplicado — botao "Agendar" com datetime-local picker e callback onScheduled. tsc OK.
  - agent: "codex"
    action: "approved_qa"
    date: "2026-02-22T15:50:06-03:00"
- 2026-02-22: QA aprovado. Critério de agendamento atendido: botão `Agendar` presente em `instagram-preview.tsx`.
