---
id: TASK-0244
title: "UI: adicionar modo de providers reais AWS com fallback demo no ConsoleAI"
project: consoleai
sprint: null
okr: null
priority: high
labels: [frontend, streamlit, aws]
story_points: 3
created_at: "2026-02-19T03:04:53-03:00"
created_by: codex
assigned_to: codex
review_requested_from: []
depends_on: []
blocks: []
acted_by:
  - agent: codex
    action: created
    date: "2026-02-19T03:04:53-03:00"
  - agent: codex
    action: claimed
    date: "2026-02-19T03:04:53-03:00"
  - agent: codex
    action: release
    date: "2026-02-19T16:49:13-03:00"
  - agent: codex
    action: move
    date: "2026-02-20T18:30:51-03:00"
  - agent: codex
    action: claim
    date: "2026-02-20T18:31:17-03:00"
  - agent: codex
    action: update
    date: "2026-02-20T18:31:54-03:00"
tokens_used: 2388463
tokens_by_phase:
  backlog: 1553137
  review: 695230
---

## Descricao

Evoluir a UI Streamlit do ConsoleAI para suportar providers reais de inventario AWS por tenant (Route53/ELB/EC2), com fallback para modo demo quando o provider real nao estiver configurado.

## Criterios de Aceite

- [x] UI permite executar em modo real ou demo sem quebra.
- [x] Providers AWS reais podem ser habilitados por configuracao de ambiente.
- [x] Falhas de provider real sao tratadas com mensagem clara e fallback seguro.
- [x] Testes automatizados cobrem selecao de modo e fallback.

## Contexto Tecnico

Manter guardrails de autorizacao e PRD read-only inalterados no backend; mudar apenas camada de montagem de providers na UI.

## Notas de Progresso

### [2026-02-19 03:04] codex
Task criada e claimada para iniciar execucao da sprint-031.

### [2026-02-20 18:31] codex
Modo de provider real AWS com fallback demo validado em `inventory_provider_runtime.py` e na UI `inventory_consoleai.py`, incluindo selecao por `INVENTORY_UI_PROVIDER_MODE`, fallback seguro e mensagem clara para indisponibilidade do provider real.
Teste executado:
- `.venv/bin/python -m pytest -q tests/unit/test_inventory_provider_runtime.py` -> 5 passed
  - agent: "codex"
    action: "approved_qa"
    date: "2026-02-22T15:50:06-03:00"
- 2026-02-22: QA aprovado. Seleção de provider (real/demo) com fallback seguro validada por testes focados.
