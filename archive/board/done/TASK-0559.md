---
id: TASK-0559
title: "Atualizar services para PostgreSQL"
project: consoleai
subproject: null
sprint: sprint-078
okr: OKR-2026-Q1-03
priority: critical
labels: [backend, database, refactor]
story_points: 3
created_at: "2026-02-25T01:00:00-03:00"
created_by: "claude-code"
assigned_to: null
review_requested_from: []
depends_on: [TASK-0557, TASK-0558]
blocks: []
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-25T01:00:00-03:00"
---

## Descricao

Atualizar cost_service, inventory_service, audit_service, budget_service e db.py para usar PostgreSQL em vez de SQLite. Atualizar docker-compose.yml para incluir servico PostgreSQL.

## Criterios de Aceite

- [ ] Todos os services usando PostgreSQL
- [ ] SQLite removido das dependencias runtime
- [ ] Docker compose com postgres service
- [ ] Testes unitarios atualizados para mockar PostgreSQL

## Contexto Tecnico

Depende de TASK-0557 (schema) e TASK-0558 (ETL concluido). Arquivos afetados: cost_service.py, inventory_service.py, audit_service.py, budget_service.py, db.py, docker-compose.yml. Conexao via psycopg2 ou asyncpg.

## Notas de Progresso

### [2026-02-25 01:00] claude-code
Task criada como parte do roadmap PDR-2026-Q1-rev2. Sprint-078, prioridade critical.
