---
id: TASK-0436
title: "Scripts - corrigir violacoes de schema no kb.sh"
project: kanbania
sprint: sprint-061
priority: medium
labels: [bug]
story_points: 1
created_at: "2026-02-22T12:30:00-03:00"
created_by: "claude-code"
assigned_to: "claude-code"
review_requested_from: []
depends_on: []
blocks: []
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-22T12:30:00-03:00"
  - agent: "claude-code"
    action: completed
    date: "2026-02-22T19:05:00-03:00"
---

## Descricao

kb.sh seta campo `status` no frontmatter (proibido pelo AGENTS.md secao 3).
Tambem so aceita claim de tasks em `backlog`, ignorando `todo` (AGENTS.md secao 4.2).
Funcao fm_set usa sed sem delimitar ao frontmatter.

## Criterios de Aceite

- [ ] Remover fm_set de "status" — status vem da pasta, nao do frontmatter
- [ ] cmd_claim aceita tasks em `todo` alem de `backlog`
- [ ] fm_set opera apenas dentro do frontmatter (entre os dois `---`)
- [ ] Scripts testados

## Contexto Tecnico

- `scripts/kb.sh` linhas 354, 389 — fm_set status
- `scripts/kb.sh` linha 341 — require_task_in "backlog" (deveria aceitar "todo")
- `scripts/kb.sh` linha 125 — sed sem delimitacao de frontmatter
