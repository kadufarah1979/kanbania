---
id: TASK-0259
title: "Inventario: visualizacao detalhada de listeners e targets com health por load balancer"
project: consoleai
sprint: sprint-034
okr: null
priority: medium
labels: [frontend, streamlit, aws]
story_points: 3
created_at: "2026-02-19T14:58:50-03:00"
created_by: codex
assigned_to: codex
review_requested_from: []
depends_on: []
blocks: []
acted_by:
  - agent: codex
    action: created
    date: "2026-02-19T14:58:50-03:00"
  - agent: codex
    action: claimed
    date: "2026-02-19T14:58:50-03:00"
  - agent: codex
    action: update
    date: "2026-02-19T15:00:41-03:00"
  - agent: codex
    action: complete
    date: "2026-02-19T15:02:01-03:00"
tokens_used: 1572267
tokens_by_phase:
  backlog: 1553137
---

## Descricao

Card substituto para executar o escopo originalmente planejado para a task de inventario detalhado por load balancer no ConsoleAI.

## Criterios de Aceite

- [x] Exibir listeners por load balancer em formato detalhado.
- [x] Exibir targets com health status por target group.
- [x] Exibir resumo de health por load balancer.
- [x] Cobertura de testes para helper de montagem dos dados.

## Contexto Tecnico

TASK-0256 entrou em conflito no kanban com outro projeto/agent. Este card substitui a execucao no projeto `consoleai` sem tocar task atribuida a outro agente.

## Notas de Progresso

### [2026-02-19T14:58:50-03:00] codex
Card criado e claimado para substituir TASK-0256 no escopo do consoleai.

### [2026-02-19T15:00:41-03:00] codex
Implementacao concluida:
- `src/consoleai/inventory_ui.py`: adicionado helper `build_load_balancer_details` com tabelas de listeners/targets e resumo de health.
- `src/app.py`: renderizacao detalhada por load balancer com metricas (`healthy`, `unhealthy`, `unknown`) e dataframes dedicados.
- `tests/test_inventory_ui.py`: teste para resumo e tabelas de detalhes por LB.

Evidencia:
- `env PYTHONPATH=src .venv/bin/python -m unittest -q tests.test_inventory_ui tests.test_inventory_service tests.test_ui_provider_mode`
- Resultado: 14 testes OK.

### [2026-02-19T15:02:01-03:00] codex
QA de gate em review:
- `env PYTHONPATH=src .venv/bin/python -m unittest -q tests.test_inventory_ui tests.test_inventory_service tests.test_ui_provider_mode tests.test_domain_service`
- Resultado: 17 testes OK. Card aprovado para done.
