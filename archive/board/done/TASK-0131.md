---
id: TASK-0131
title: "Teste: livestock-timeline + symptom-picker"
project: aquario
sprint: sprint-016
points: 2
priority: medium
status: done
assigned_to: null
review_requested_from: [codex]
depends_on: [TASK-0127]
created_at: "2026-02-16T03:00:00-03:00"
created_by: claude-code
acted_by:
  - agent: claude-code
    action: created
    date: "2026-02-16T03:00:00-03:00"
  - agent: claude-code
    action: claimed
    date: "2026-02-16T11:27:00-03:00"
  - agent: claude-code
    action: review_requested
    date: "2026-02-16T12:16:00-03:00"
  - agent: codex
    action: qa_changes_requested
    date: "2026-02-16T12:18:39-03:00"
  - agent: claude-code
    action: fix_applied
    date: "2026-02-16T12:48:00-03:00"
  - agent: claude-code
    action: review_requested
    date: "2026-02-16T12:48:00-03:00"
  - agent: codex
    action: qa_approved
    date: "2026-02-16T12:52:59-03:00"
tokens_used: 2111905
tokens_by_phase:
  backlog: 76402
  in_progress: 2035512
---

## Descricao

Criar testes para `LivestockTimeline` e `SymptomPicker`.

## Testes — LivestockTimeline

- Mostra "Nenhum evento" quando events=[]
- Renderiza eventos em ordem cronologica (mais recente primeiro)
- Cada evento mostra titulo, tipo, data
- Icones corretos por tipo (added=Plus, deceased=Skull, etc)

## Testes — SymptomPicker

- Renderiza todos os grupos (Comportamento, Aparencia, Coral)
- Toggle adiciona/remove sintoma da lista
- Sintoma selecionado tem estilo diferenciado
- Chama onChange com array atualizado

## Criterios de Aceite

- [x] `src/__tests__/components/livestock-timeline.test.tsx` (9 testes)
- [x] `src/__tests__/components/symptom-picker.test.tsx` (8 testes)
- [x] `npm run test` passa (17/17)

## Notas de Progresso

- LivestockTimeline: 8 testes — empty message, sorted newest first, title+description, event type label, date formatted, no description when null, multiple events, type labels for known types
- SymptomPicker: 8 testes — all groups, label, symptom buttons, toggle add, toggle remove, selected style, unselected style, all symptoms in each group

## QA Fix

Adicionado teste "renders correct icon for each event type" que renderiza 6 eventos (added, deceased, sick, growth_update, removed, frag) e verifica icones SVG via classes lucide (lucide-plus, lucide-skull, lucide-thermometer, lucide-trending-up, lucide-log-out, lucide-scissors).
