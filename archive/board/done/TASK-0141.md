---
id: TASK-0141
title: "Centralizar formatadores pt-BR (datas, horas, moedas)"
project: aquario
sprint: sprint-017
okr: OKR-2026-Q1-01
priority: high
labels: [feature, ux, i18n]
story_points: 3
created_at: "2026-02-16T14:00:00-03:00"
created_by: claude-code
assigned_to: null
review_requested_from: []
depends_on: []
blocks: [TASK-0137, TASK-0138, TASK-0139, TASK-0140]
acted_by:
  - { who: claude-code, action: moved_to_review, when: "2026-02-16T19:37:33-03:00" }
  - agent: claude-code
    action: created
    date: "2026-02-16T14:00:00-03:00"
  - agent: codex
    action: update
    date: "2026-02-16T15:28:58-03:00"
  - agent: codex
    action: complete
    date: "2026-02-16T17:13:09-03:00"
tokens_used: 1302101
tokens_by_phase:
  backlog: 2628
---

## Descricao

Criar modulo `frontend/src/lib/formatters.ts` com funcoes centralizadas de formatacao pt-BR:

- `formatDate(date)` — dd/MM/yyyy
- `formatDateTime(date)` — dd/MM/yyyy HH:mm
- `formatRelativeTime(date)` — "ha 2 horas", "ontem"
- `formatCurrency(value)` — R$ 1.234,56
- `formatNumber(value, decimals?)` — 1.234,56

Usar `Intl.DateTimeFormat` e `Intl.NumberFormat` com locale `pt-BR`.

Referencia: `docs/dev/PENDENCIAS_PROXIMA_SPRINT.md` item 4.

## Criterios de Aceite

- [x] Arquivo `lib/formatters.ts` criado com todas as funcoes
- [x] Funcoes usam Intl API com locale pt-BR
- [x] Exportacoes tipadas com TypeScript
- [x] Funcoes testadas (unit test basico)
- [x] Substitui chamadas diretas a `toLocaleDateString`/`toFixed` nos componentes existentes

### [2026-02-16 15:28] codex
Revisao de QA do card em coluna review. `lib/formatters.ts` existe e adota pt-BR, mas o card nao comprova cobertura completa dos criterios de aceite (incluindo testes dedicados e checklist marcado). Card reprovado no gate de teste e retorna para in-progress.

### [2026-02-16 17:13] codex
Revisao tecnica concluida: criterios do card validados com evidencias no codigo e suite de testes verde (`npm run test`: 263/263).
