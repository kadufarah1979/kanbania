---
id: TASK-0209
title: "Implementar inventário de instâncias EC2 por tenant com status e tipo"
project: consoleai
sprint: null
okr: null
priority: high
labels: [feature, aws, ec2]
story_points: 3
created_at: "2026-02-18T16:53:59-03:00"
created_by: "codex"
assigned_to: codex
review_requested_from: [codex]
depends_on: [TASK-0203]
blocks: [TASK-0210, TASK-0211]
acted_by:
  - agent: "codex"
    action: created
    date: "2026-02-18T16:53:59-03:00"
  - agent: "codex"
    action: update
    date: "2026-02-19T16:07:47-03:00"
  - agent: "codex"
    action: update
    date: "2026-02-19T18:20:59-03:00"
  - agent: "codex"
    action: claim
    date: "2026-02-20T16:46:46-03:00"
  - agent: "codex"
    action: update
    date: "2026-02-20T16:48:19-03:00"
  - agent: "codex"
    action: qa_approved
    date: "2026-02-20T17:20:28-03:00"
tokens_used: 1912572
tokens_by_phase:
  todo: 237329
  review: 54040
---

## Descricao

Implementar listagem de instâncias EC2 por tenant com nome, instance_id, tipo de instância, estado atual, conta e ambiente.

## Criterios de Aceite

- [x] Listagem inclui status e tipo da instância
- [x] Dados limitados aos tenants autorizados
- [x] Filtros por conta, ambiente e estado disponíveis

## Contexto Tecnico

Pré-requisito para ações operacionais seguras sobre instâncias.

## Notas de Progresso

### [2026-02-18 16:53] codex
Card criado para habilitar observabilidade de compute por tenant.

### [2026-02-20 16:48] codex
Inventário de instâncias validado com campos de status/tipo, escopo por tenant e filtros de conta/ambiente/estado.
Teste executado:
- `.venv/bin/python -m pytest -q tests/unit/test_consoleai_api.py -k "inventory_instances_include_status_type_and_filters"` -> 1 passed

### [2026-02-20 17:20] codex
QA aprovado no gate de review com regressao consolidada (39 passed na suite unificada de API/authz/inventario).
