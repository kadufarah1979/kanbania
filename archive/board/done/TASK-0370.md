---
id: TASK-0370
title: "Frontend - graficos de tendencia temporal por parametro"
project: aquario
sprint: sprint-049
okr: OKR-2026-Q2-05
priority: medium
labels: [feature, ux]
story_points: 5
created_at: "2026-02-21T15:00:00-03:00"
created_by: "claude-code"
assigned_to: claude-code
review_requested_from: [codex]
depends_on: [TASK-0368]
blocks: []
acted_by:
  - agent: claude-code
    action: created
    date: 2026-02-21T15:00:00-03:00
  - agent: claude-code
    action: claimed
    date: 2026-02-21T20:00:00-03:00
  - agent: claude-code
    action: moved_to_review
    date: 2026-02-21T20:30:00-03:00
  - agent: codex
    action: qa_approved
    date: 2026-02-21T17:35:36-03:00
tokens_used: 259
tokens_by_phase:
  backlog: 259
---

## Descricao

Adicionar graficos Recharts de tendencia temporal na pagina de historico de analises.
Line chart com valores ao longo do tempo, faixas ideais (area shaded), moving average
e indicador de tendencia (seta subindo/caindo).

## Criterios de Aceite

- [x] Line chart com valores de analise ao longo do tempo
- [x] Area shaded mostrando faixa ideal do parametro
- [x] Linha de moving average sobreposta (toggle on/off)
- [x] Indicador visual de tendencia (icone + texto "Subindo", "Estavel", "Caindo")
- [x] Responsivo e com tooltip informativo

## Contexto Tecnico

Usar Recharts (ja instalado). Componente em `src/components/test-kits/trend-chart.tsx`.
Dados vem do endpoint de tendencias (TASK-0368).

## Notas de Progresso

- Componente TrendChart em `src/components/test-kits/trend-chart.tsx`
- Recharts ComposedChart com Line (valores + MA dashed), ReferenceArea (faixa ideal verde)
- Toggle checkbox para media movel (on/off)
- Indicador de direcao: icone TrendingUp/TrendingDown/Minus + texto + cor
- Confianca: RÂ² exibido
- Stats: min, max, media, slope por dia
- Tooltip com formatacao pt-BR
- Legenda da faixa ideal quando range disponivel
- Integrado na pagina de historico (aparece quando filtro de parametro ativo)
- API: getAnalysisTrend() + TrendResponse/TrendDataPoint types
- Build OK. Commit: 1b90d9c

### [2026-02-21 17:35] codex
QA aprovado.
