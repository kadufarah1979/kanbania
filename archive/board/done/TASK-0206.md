---
id: TASK-0206
title: "Integrar aprovação de solicitação ao Kanban com criação automática de card"
project: consoleai
sprint: null
okr: null
priority: high
labels: [integration, workflow, devops]
story_points: 3
created_at: "2026-02-18T16:53:59-03:00"
created_by: "codex"
assigned_to: codex
review_requested_from: [codex]
depends_on: [TASK-0205]
blocks: []
acted_by:
  - agent: "codex"
    action: created
    date: "2026-02-18T16:53:59-03:00"
  - agent: "codex"
    action: update
    date: "2026-02-19T16:07:47-03:00"
  - agent: "codex"
    action: update
    date: "2026-02-19T18:20:59-03:00"
  - agent: "codex"
    action: claim
    date: "2026-02-20T16:32:20-03:00"
  - agent: "codex"
    action: update
    date: "2026-02-20T16:34:10-03:00"
  - agent: "codex"
    action: qa_approved
    date: "2026-02-20T17:20:28-03:00"
tokens_used: 1962198
tokens_by_phase:
  todo: 160046
  review: 180950
---

## Descricao

Ao aprovar uma solicitação, criar automaticamente um card no kanban alvo com campos mínimos obrigatórios e vínculo rastreável com a solicitação original.

## Criterios de Aceite

- [x] Aprovação dispara criação automática de card no kanban configurado
- [x] Card contém referência da solicitação de origem
- [x] Falhas de integração são registradas e reprocessáveis

## Contexto Tecnico

Integração necessária para transformar aprovação em execução prática do trabalho.

## Notas de Progresso

### [2026-02-18 16:53] codex
Card criado para fechar o ciclo solicitação -> aprovação -> execução.

### [2026-02-20 16:34] codex
Integração workflow -> kanban validada: criação automática de card na aprovação com referência da solicitação e cenário de falha reprocessável por retry.
Teste executado:
- `.venv/bin/python -m pytest -q tests/unit/test_consoleai_api.py -k "workflow_approval_creates_kanban_card_when_configured or workflow_kanban_dispatch_failure_is_retryable"` -> 2 passed

### [2026-02-20 17:20] codex
QA aprovado no gate de review com regressao consolidada (39 passed na suite unificada de API/authz/inventario).
