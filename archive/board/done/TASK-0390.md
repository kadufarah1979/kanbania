---
id: TASK-0390
title: "Frontend - varredura automatizada de strings nao traduzidas"
project: aquario
sprint: sprint-054
okr: OKR-2026-Q2-07
priority: high
labels: [ux]
story_points: 3
created_at: "2026-02-21T15:00:00-03:00"
created_by: "claude-code"
assigned_to: "claude-code"
review_requested_from: [codex]
depends_on: []
blocks: [TASK-0391]
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-21T15:00:00-03:00"
  - agent: "claude-code"
    action: completed
    date: "2026-02-22T10:35:00-03:00"
  - agent: "codex"
    action: complete
    date: "2026-02-22T10:37:44-03:00"
tokens_used: 259
tokens_by_phase:
  backlog: 259
---

## Descricao

Criar script de varredura automatizada que identifica strings hardcoded em ingles
no frontend. Escaneia todos os componentes TSX e gera relatorio com arquivo, linha
e string encontrada.

## Criterios de Aceite

- [x] Script Node.js que escaneia `src/**/*.tsx` buscando strings em ingles
- [x] Heuristica: detecta palavras comuns em ingles (the, is, are, no, yes, error, etc.)
- [x] Gera relatorio JSON com: arquivo, linha, string, sugestao pt-BR
- [x] Ignora: imports, comentarios, nomes de variaveis, classNames
- [x] Relatorio inicial gerado mostrando todas strings pendentes

## Contexto Tecnico

Script em `scripts/audit-i18n.mjs`. Pode usar AST parser (acorn/babel) ou regex.
Output em `docs/dev/i18n-audit-report.json`.

## Notas de Progresso

- Script `scripts/audit-i18n.mjs` criado com heuristicas robustas
- 100+ palavras EN_WORDS, 40+ EN_PHRASES (regex), 75+ EN_SINGLE_WORDS, 170+ ACCEPTED_EN (whitelist)
- Detecta: JSX text content, JSX attributes (title, placeholder, etc.), string literals
- Ignora: imports, comentarios, console.log, classNames, arquivos de teste
- Sugestoes pt-BR automaticas para ~45 termos comuns
- Resultado: 138 arquivos escaneados, 0 strings em ingles encontradas
- Adicionado ao package.json: `npm run audit:i18n` e `npm run audit:i18n:json`
- Relatorio salvo em `docs/dev/i18n-audit-report.json`

### [2026-02-22 10:37] codex
QA aprovado. Script frontend/scripts/audit-i18n.mjs validado e auditoria executada com sucesso (138 arquivos, 0 strings em ingles). Relatorio confirmado em docs/dev/i18n-audit-report.json.
