# TASK-0030: Implementar dashboard com parameter cards

## Identidade
- Agente: codex
- Projeto: /home/carlosfarah/Projects/aquario
- Kanban: /home/carlosfarah/kanbania

## Card

```yaml+markdown
---
id: TASK-0030
title: "Implementar dashboard com parameter cards"
project: aquario
sprint: sprint-005
okr: OKR-2026-Q1-01
priority: high
labels: [feature, ux]
story_points: 5
created_at: "2026-02-14T10:00:00-03:00"
created_by: claude-code
assigned_to: codex
depends_on: [TASK-0021, TASK-0029]
blocks: []
acted_by:
  - agent: codex
    action: reassigned
    date: "2026-02-14T10:15:59-03:00"
  - agent: claude-code
    action: created
    date: "2026-02-14T10:00:00-03:00"
---

## Descrição

Implementar o dashboard principal com grid de parameter cards mostrando o estado do aquário.

Componentes:
- `components/dashboard/parameter-card.tsx` — card: ícone + label + valor + unidade + badge source + status (ok/warn/crit)
- `components/dashboard/parameter-grid.tsx` — grid responsivo de cards agrupado por categoria
- `components/dashboard/device-card.tsx` — card do device com status online/last seen
- `components/dashboard/alert-banner.tsx` — banner no topo para alertas ativos
- `components/dashboard/status-indicator.tsx` — indicador colorido baseado no range

Stores:
- `stores/aquarium-store.ts` — aquários do usuário, aquário ativo
- `stores/dashboard-store.ts` — leituras latest, estado dos parâmetros

## Critérios de Aceite

- [ ] Grid de parameter cards com dados reais do endpoint /readings/latest
- [ ] Cada card mostra: valor atual, unidade, fonte (sensor/manual/test_kit), status (ok/warn/crit)
- [ ] Cores do status: verde (ideal), amarelo (warning), vermelho (critical), cinza (sem dados)
- [ ] Banner de alertas não reconhecidos no topo
- [ ] Cards de devices com status online/offline
- [ ] Loading skeleton enquanto carrega
- [ ] Empty state quando não há leituras

## Contexto Técnico

- API: GET /api/v1/aquariums/{id}/readings/latest
- API: GET /api/v1/dashboard/overview
- Referência visual: `docs/Admin-Dashboard/dashboard-analytics.html`

## Notas de Progresso
```

## Dependencias

- TASK-0021: backlog
- TASK-0029: backlog

## Workflow

1. Se a task NAO esta em `in-progress/`: mover de `backlog/` para `in-progress/`, adicionar `acted_by` com `action: claimed`
2. Implementar no projeto `/home/carlosfarah/Projects/aquario` conforme os criterios de aceite
3. Fazer commit no projeto com mensagem descritiva
4. Adicionar nota de progresso no card em `/home/carlosfarah/kanbania/board/in-progress/TASK-0030.md`
5. Mover card: `mv /home/carlosfarah/kanbania/board/in-progress/TASK-0030.md /home/carlosfarah/kanbania/board/review/TASK-0030.md`
6. Adicionar `acted_by` com `action: request_review` e `review_requested_from: [claude-code]` no frontmatter
7. Append em `/home/carlosfarah/kanbania/logs/activity.jsonl`
8. Fazer commit no kanban

## Formato Commit Projeto

```
feat(dashboard): descricao concisa - TASK-0030
```

## Formato Commit Kanban

```
[KANBAN] <action> TASK-0030: <descricao>
```

## Formato Log

```json
{"timestamp":"<ISO>","agent":"codex","action":"<claimed|request_review>","entity_type":"task","entity_id":"TASK-0030","details":"<descricao>","project":"aquario"}
```

## Contexto Tecnico

- API: GET /api/v1/aquariums/{id}/readings/latest
- API: GET /api/v1/dashboard/overview
- Referência visual: `docs/Admin-Dashboard/dashboard-analytics.html`

## Instrucoes Importantes

- NAO leia arquivos de protocolo (CODEX.md, AGENTS.md, config.yaml, sprints/current.md). TUDO que voce precisa esta NESTE arquivo.
- Foque em IMPLEMENTAR. Nao gaste tokens com leituras desnecessarias.
- Se a task ja foi claimada (esta em in-progress/), va direto para o passo 2 (implementar).
- Ao terminar, SEMPRE mova para review/ e registre no log.
