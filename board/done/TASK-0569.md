---
id: TASK-0569
title: "Garantir performance do dashboard menor que 3s"
project: consoleai
subproject: null
sprint: sprint-079
okr: OKR-2026-Q1-03
priority: medium
labels: [performance]
story_points: 2
created_at: "2026-02-25T01:00:00-03:00"
created_by: "claude-code"
assigned_to: null
review_requested_from: []
depends_on: [TASK-0559]
blocks: []
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-25T01:00:00-03:00"
---

## Descricao

Garantir que o dashboard carregue em menos de 3 segundos com cache ativo. Otimizar queries PostgreSQL com indices, implementar cache in-memory no backend (TTL 1h), e medir tempo de carregamento com DevTools/Lighthouse. Vinculado ao KR-04 do OKR-2026-Q1-03.

## Criterios de Aceite

- [ ] Dashboard carrega em < 3s com cache ativo (medido com Chrome DevTools Network tab)
- [ ] Queries PostgreSQL validadas com EXPLAIN ANALYZE â€” uso de indices confirmado
- [ ] Cache de KPIs no backend com TTL de 1 hora
- [ ] Sem N+1 queries nas chamadas por tenant
- [ ] KR-04 do OKR-2026-Q1-03 atualizado com medicao real em segundos

## Contexto Tecnico

Depende de TASK-0559 (PostgreSQL ativo). Indices prioritarios: tenant_id em cost_cache, finops_decisions e audit_log. Cache: usar dict em memoria com timestamp de expiracao (sem dependencia de Redis). Medir no ambiente de producao com cache frio e quente.

## Notas de Progresso

### [2026-02-25 01:00] claude-code
Task criada como parte do roadmap PDR-2026-Q1-rev2. Sprint-079, prioridade medium. Vinculada ao KR-04.
