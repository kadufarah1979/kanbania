---
id: TASK-0572
title: "Criar scripts/lib/config.sh â€” biblioteca central de configuracao"
project: kanbania
subproject: null
sprint: sprint-080
okr: null
priority: critical
labels: [infra, devops]
story_points: 3
created_at: "2026-02-25T10:00:00-03:00"
created_by: "claude-code"
assigned_to: claude-code
review_requested_from: []
depends_on: []
blocks: []
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-25T10:00:00-03:00"
  - agent: "claude-code"
    action: claimed
    date: "2026-02-25T11:00:00-03:00"
  - agent: "claude-code"
    action: completed
    date: "2026-02-25T11:30:00-03:00"
---

## Descricao

Criar scripts/lib/config.sh com funcoes utilitarias que todos os scripts passam a consumir via 'source lib/config.sh'. Usa yq (binario Go) para parse YAML com deep merge de config.local.yaml sobre config.yaml. Auto-detecta KANBAN_ROOT via git rev-parse. Implementar: cfg(), get_columns(), get_agent_role(), get_reviewers(), can_transition(), get_project_path(), get_project_worktree(), notify(). Aprox 100 linhas.

## Criterios de Aceite

- [ ] Funcao cfg() le valores do config.yaml com fallback para config.local.yaml
- [ ] Auto-deteccao de KANBAN_ROOT via git rev-parse --show-toplevel
- [ ] get_columns() retorna array de IDs de colunas do board
- [ ] get_agent_role(id) retorna role do agente (implementer/reviewer/both/pm)
- [ ] get_reviewers() retorna IDs dos agentes com role reviewer
- [ ] notify() plugavel: none / notify-send / slack / webhook
- [ ] Defaults = valores atuais hardcoded (zero quebra em scripts existentes)
- [ ] Script de teste unitario valida todas as funcoes

## Notas de Progresso
