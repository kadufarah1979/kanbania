---
id: TASK-0528
title: "Teste de estabilidade 24h do firmware + coleta metricas heap"
project: aquario
subproject: null
sprint: sprint-074
okr: OKR-2026-Q2-06
priority: medium
labels: [testing]
story_points: 2
created_at: "2026-02-24T02:50:00-03:00"
created_by: "claude-code"
assigned_to: null
review_requested_from: []
depends_on: []
blocks: [TASK-0529]
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-24T02:50:00-03:00"
    note: "Sub-task de TASK-0423 — teste de estabilidade"
  - agent: "claude-code"
    action: moved_to_backlog
    date: "2026-02-24T12:00:00-03:00"
    note: "Movido para backlog no encerramento da sprint-074. Requer hardware disponivel."
---

## Descricao

Rodar o firmware (monitor_basic ou monitor_full) continuamente por 24h+ no
hardware real. Monitorar estabilidade, consumo de heap e ausencia de crashes.
Coletar logs e evidencias.

## Criterios de Aceite

- [ ] Firmware rodando em ESP32 fisico por >= 24h sem crash ou watchdog reset
- [ ] free_heap monitorado via topico MQTT `/state` — sem vazamentos progressivos
- [ ] Logs de 24h coletados (MQTT Explorer ou arquivo)
- [ ] Screenshot do OLED mostrando leituras apos 24h
- [ ] Evidencias salvas em `docs/hardware/test_results/stability_24h/`

## Contexto Tecnico

- Firmware: monitor_basic e/ou monitor_full (ja compilados)
- Monitorar: free_heap no JSON de /state, timestamp de uptime
- Ferramenta de monitoramento: MQTT Explorer ou script de logging
- Hardware: ESP32 DevKit V1 + sensores conectados
- Referencia: docs/dev/E2E_TEST_REPORT.md

## Notas de Progresso

