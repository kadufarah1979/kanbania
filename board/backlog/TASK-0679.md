---
id: TASK-0679
title: "Mobile â€” Feed Social B: criar post (texto + foto + dado do aquario)"
project: aquario
subproject: app-android
sprint: sprint-004
okr: OKR-2026-Q2-11
priority: high
labels: [feature, mobile, social]
story_points: 3
created_at: "2026-02-28T14:00:00-03:00"
created_by: "claude-code"
assigned_to: null
review_requested_from: []
depends_on: [TASK-0678]
blocks: []
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-28T14:00:00-03:00"
---

## Descricao

Tela de criacao de post social. O usuario escreve um texto, pode anexar uma foto
(galeria ou camera) e opcionalmente vincular o post a uma leitura atual do seu aquario.

## Criterios de Aceite

- [ ] Botao "+" na FeedScreen abre CreatePostScreen (modal ou stack)
- [ ] Campo de texto (obrigatorio, max 500 chars), contador de caracteres
- [ ] Anexar foto: picker da galeria ou camera (expo-image-picker)
- [ ] Vincular aquario: dropdown dos aquarios do usuario com leitura atual
- [ ] Preview da foto antes de publicar
- [ ] POST /api/v1/social/posts (multipart/form-data se tiver foto)
- [ ] Apos publicar: invalidar query do feed + navegar de volta

## Notas Tecnicas

- Se tiver foto: `multipart/form-data`; se so texto: `application/json`
- Body: `{ content: string, aquarium_id?: string, image?: File }`
- Comprimir imagem antes de enviar: `expo-image-manipulator` (resize para max 1080px)
