---
id: TASK-0649
title: "Implementar melhorias de baixo impacto na infra PRD"
project: innovaq
sprint: sprint-089
okr: null
priority: medium
labels:
  - infra
  - performance
  - devops
story_points: 3
created_at: "2026-02-27T11:58:00-03:00"
created_by: claude-code
assigned_to: null
depends_on:
  - TASK-0648
blocks: []
acted_by:
  - agent: claude-code
    action: created
    date: "2026-02-27T11:58:00-03:00"
---

## Descricao

Com base no relatorio de diagnostico (TASK-0648), implementar as melhorias de baixo impacto aprovadas pelo owner — sem mudancas arquiteturais significativas. Cada melhoria deve ser aplicada via Terraform no stage prd com `terraform plan` revisado antes de `apply`.

Candidatos a implementar (a confirmar apos Fase 2):

**Prioridade alta (sem downtime)**
- Atualizar SSL policy do ALB: `ELBSecurityPolicy-2016-08` -> `ELBSecurityPolicy-TLS13-1-2-2021-06`
- Converter volumes EBS de `gp2` para `gp3` nos Mongos (ate 20% mais rapido, sem custo adicional)
- Reativar ASG do `apiInnovaq` (estava comentado no Terraform)

**Prioridade media**
- Ajustar `desired_capacity` dos ASGs conforme baseline de carga identificado
- Revisar e apertar scaling policies (target CPU utilization)
- Reduzir health check interval de 30s para 15s nos target groups criticos

**Documentacao**
- Registrar todas as mudancas em `docs/analise-performance/fase3-melhorias.md`
- Incluir terraform plan antes/depois de cada mudanca

## Criterios de Aceite

- [ ] Cada melhoria aprovada na Fase 2 implementada via Terraform
- [ ] `terraform plan` revisado e aprovado pelo owner antes de cada `apply`
- [ ] Nenhum downtime durante as mudancas
- [ ] Metricas re-coletadas apos 48h para validar melhoria
- [ ] Relatorio final em `docs/analise-performance/fase3-melhorias.md`
- [ ] PR/MR aberto no GitLab para as mudancas de IaC

## Contexto Tecnico

- Terraform PRD: `iac/terraform/stage/prd/`
- AWS Profile: `INNOVAQ-PRD`
- Terraform com aprovacao: `apply`, `destroy` — sempre confirmar com owner
- Arquivo de referencia: `docs/analise-performance/fase2-diagnostico.md` (TASK-0648)
- SSL policies AWS: https://docs.aws.amazon.com/elasticloadbalancing/latest/application/create-https-listener.html

## Notas de Progresso

