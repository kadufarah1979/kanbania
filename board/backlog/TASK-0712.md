---
id: TASK-0712
title: "Mobile — Detox E2E: login + cadastro aquario + alerta + checkout"
project: aquario
subproject: app-android
sprint: sprint-009
okr: OKR-2026-Q3-04
priority: high
labels: [test, mobile, e2e]
story_points: 3
created_at: "2026-02-28T14:00:00-03:00"
created_by: "claude-code"
assigned_to: null
review_requested_from: []
depends_on: []
blocks: []
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-28T14:00:00-03:00"
---

## Descricao

Implementar suite de testes E2E com Detox para os fluxos criticos do app:
login por email, cadastro de aquario, receber alerta e fluxo de checkout.

## Criterios de Aceite

- [ ] Detox configurado para Android (emulador Pixel_6 API 34)
- [ ] Teste: login com email/senha valido → HomeScreen exibida
- [ ] Teste: login com credenciais invalidas → mensagem de erro
- [ ] Teste: cadastrar aquario → aparece na HomeScreen e AquariumsScreen
- [ ] Teste: adicionar produto ao carrinho → badge atualizado → checkout
- [ ] Todos os testes passando em `npm run test:e2e`
- [ ] CI: rodar Detox em GitHub Actions (emulador headless)

## Notas Tecnicas

- Detox ja listado no package.json como devDependency
- Usar `testEnvironment: 'node'` no jest.config.js para E2E
- Test data: usuario de teste criado via `beforeAll` com API do backend
