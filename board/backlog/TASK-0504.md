---
id: TASK-0504
title: "Implementar checker PCI Req 3 (protecao de dados de titulares de cartao em repouso)"
project: tecpag
subproject: tecpag-compliance
sprint: sprint-068
okr: OKR-2026-Q2-08
priority: high
labels: [security, feature, testing]
story_points: 3
created_at: "2026-02-23T13:00:00-03:00"
created_by: "claude-code"
assigned_to: null
review_requested_from: []
depends_on: []
blocks: []
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-23T13:00:00-03:00"
---

## Descricao

Implementar checker do PCI-DSS Req 3: protecao de dados de titulares de cartao (CHD) em repouso.
Verificar criptografia em RDS (encryption at rest), S3 (SSE), EBS volumes, e politicas de retencao de dados.

## Criterios de Aceite

- [ ] `modules/req_03_checker.py` implementado
- [ ] Verifica RDS: `StorageEncrypted=true` em todas as instancias
- [ ] Verifica S3: SSE habilitado em todos os buckets relevantes
- [ ] Verifica EBS: volumes criptografados
- [ ] Verifica politicas de nao-armazenamento de CHD (PAN, CVV, etc.)
- [ ] Testes unitarios criados
- [ ] Output com status, findings e nivel de risco por finding

## Contexto Tecnico

Repositorio: `scripts/pci-compliance-automation/`
AWS SDK calls: `rds.describe_db_instances()`, `s3.get_bucket_encryption()`, `ec2.describe_volumes()`
Referencia PCI: Req 3.4 (CHD protegido onde armazenado)

## Notas de Progresso

### [2026-02-23 13:00] claude-code
Req 3 e um dos 3 gaps criticos do PCI. Prioridade maxima na sprint-068.
