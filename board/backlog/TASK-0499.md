---
id: TASK-0499
title: "Integrar tfsec no pipeline IaC GitLab"
project: tecpag
subproject: tecpag-iac
sprint: sprint-067
okr: OKR-2026-Q1-05
priority: high
labels: [security, infra, devops]
story_points: 2
created_at: "2026-02-23T13:00:00-03:00"
created_by: "claude-code"
assigned_to: null
review_requested_from: []
depends_on: []
blocks: [TASK-0509, TASK-0515]
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-23T13:00:00-03:00"
---

## Descricao

Adicionar job de validacao de seguranca com `tfsec` no pipeline GitLab CI do repositorio IaC.
O job deve rodar em cada MR/push e falhar se houver findings de severidade HIGH ou CRITICAL.

## Criterios de Aceite

- [ ] Job `tfsec-scan` adicionado ao `.gitlab-ci.yml` do repositorio IaC
- [ ] Job roda antes do `terraform plan`
- [ ] Pipeline falha em findings CRITICAL (configur avel)
- [ ] Relatorio de findings exportado como artifact no GitLab
- [ ] README do pipeline atualizado com instrucoes de remediacao

## Contexto Tecnico

Ferramenta: `tfsec` (https://github.com/aquasecurity/tfsec)
Integracao GitLab: usar imagem `aquasec/tfsec` no job
Config: `tfsec --format sarif --out results.sarif .`

## Notas de Progresso

### [2026-02-23 13:00] claude-code
Task criada como parte do roadmap PDR-2026-Q1Q2.
