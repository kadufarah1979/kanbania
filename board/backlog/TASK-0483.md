---
id: TASK-0483
title: "Rotacionar senhas MongoDB e PostgreSQL em producao"
project: tecpag
subproject: tecpag-devops
sprint: sprint-066
okr: OKR-2026-Q1-04
priority: critical
labels: [security, devops]
story_points: 2
created_at: "2026-02-23T13:00:00-03:00"
created_by: "claude-code"
assigned_to: null
review_requested_from: []
depends_on: []
blocks: [TASK-0488]
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-23T13:00:00-03:00"
---

## Descricao

Rotacionar as senhas de MongoDB e PostgreSQL que estao expostas em arquivos `.env` versionados.
Estas senhas estao acessiveis a qualquer pessoa com acesso ao repositorio Git.

Credenciais identificadas:
- MongoDB: usuario docdbadmin e admin com senha exposta
- PostgreSQL: usuario postgres com senha exposta

## Criterios de Aceite

- [ ] Nova senha MongoDB gerada (min 32 chars, alphanumerico + simbolos)
- [ ] Nova senha PostgreSQL gerada (min 32 chars)
- [ ] Senhas antigas invalidadas no banco
- [ ] Novos usuarios criados ou senhas atualizadas em todos os ambientes (dev, hml, prd)
- [ ] Servicos que usam MongoDB/PostgreSQL testados e funcionando com novas credenciais
- [ ] Novas senhas armazenadas temporariamente em local seguro (ate TASK-0488 migrar para Secrets Manager)

## Contexto Tecnico

Localizacao:
- MongoDB: `DevOps/mongo/mongo/docker-compose.yml:10`
- PostgreSQL: `DevOps/pgsql/pgsql/docker-compose.yml:10`
- Aplicacoes: multiplos `.env` nos microsservicos

## Notas de Progresso

### [2026-02-23 13:00] claude-code
Task criada como parte do roadmap PDR-2026-Q1Q2. Executar em paralelo com TASK-0482.
