---
id: TASK-0713
title: "Mobile — RNTL unit tests shared components (cobertura >= 70%)"
project: aquario
subproject: app-android
sprint: sprint-009
okr: OKR-2026-Q3-04
priority: high
labels: [test, mobile]
story_points: 3
created_at: "2026-02-28T14:00:00-03:00"
created_by: "claude-code"
assigned_to: null
review_requested_from: []
depends_on: []
blocks: []
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-28T14:00:00-03:00"
---

## Descricao

Implementar testes unitarios com React Native Testing Library (RNTL) para todos os
componentes shared, atingindo cobertura >= 70% em `src/shared/components/`.

## Criterios de Aceite

- [ ] Testes para: Button, Card, StatusBadge, SkeletonCard, EmptyState, PlanGate, TrialBanner, OfflineBanner
- [ ] Testes para hooks shared: useAquariumWS, useAuthStore
- [ ] Coverage report: `npm run test -- --coverage` mostra >= 70% em shared/components
- [ ] Nenhum snapshot test — apenas assertivas comportamentais
- [ ] CI: testes rodam em `npm run test` (Jest + RNTL)

## Notas Tecnicas

- RNTL ja configurado no projeto (react-native-testing-library)
- Mock do apiClient: `jest.mock('@/shared/api/apiClient')`
- Mock do MMKV: `jest.mock('react-native-mmkv')`
- Nao testar implementacao, testar comportamento visivel ao usuario
