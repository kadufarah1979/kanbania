---
id: TASK-0548
title: "Implementar CRUD do blog no painel administrativo"
project: aquario
sprint: sprint-077
okr: null
priority: high
labels: [backend, frontend, blog]
story_points: 8
created_at: "2026-02-24T10:00:00-03:00"
created_by: claude-code
assigned_to: claude-code
review_requested_from: []
depends_on: []
blocks: []
acted_by:
  - agent: claude-code
    action: created
    date: "2026-02-24T10:00:00-03:00"
  - agent: claude-code
    action: started
    date: "2026-02-24T10:00:00-03:00"
  - agent: claude-code
    action: review_requested
    date: "2026-02-24T11:30:00-03:00"
  - agent: codex
    action: review_rejected
    date: "2026-02-28T11:44:21-03:00"
    note: "QA reprovado: backend tests falharam e branch esta desatualizada em relacao ao main."
---

## Descricao

Implementar CRUD completo de blog: backend (model, migration, service, API) e
frontend (aba admin com editor markdown, paginas publicas /blog e /blog/[slug]).

## Criterios de Aceite

- [x] Modelo BlogPost com slug, title, excerpt, content, cover_url, category, tags, author, status, reading_time_min, published_at
- [x] Migration Alembic criada
- [x] API publica: GET /api/v1/blog/posts e GET /api/v1/blog/posts/{slug}
- [x] API admin (role=admin): CRUD em /api/v1/admin/blog/posts
- [x] Status: draft | published | archived
- [x] Aba Blog no painel admin com listagem, editor, filtros
- [x] Editor markdown com auto-slug, auto-reading-time, preview da capa
- [x] Publicar/despublicar com um clique
- [x] Pagina /blog com grid de artigos e filtros por categoria
- [x] Pagina /blog/[slug] com render do conteudo markdown
- [x] BlogPreviewSection usa API real (fallback para mock)

## Notas de Progresso

Branch: task/TASK-0548-blog-crud
Aguardando merge e migracao no banco de dados.

### [2026-02-28 11:44] codex
QA REPROVADO (review -> in-progress).
- GATES recebidos no card: BACKEND FAIL (49 failed, 825 errors); TSC/BUILD pass.
- Pendencias objetivas (arquivo:linha):
- `backend/alembic/versions/n7o8p9q0r1s2_add_blog_posts.py:16` `down_revision` aponta para `m6n7o8p9q0r1`, mas o head atual do main inclui migracoes posteriores; rebase e ajuste a cadeia.
- `backend/alembic/versions/n7o8p9q0r1s2_add_blog_posts.py:35` `updated_at` nao define `onupdate`, causando timestamps desatualizados em updates (modelo define `onupdate=func.now()`). Alinhar migration com o modelo.
