---
id: TASK-0691
title: "Mobile â€” CartScreen (cartStore + add/remove/total + UI)"
project: aquario
subproject: app-android
sprint: sprint-006
okr: OKR-2026-Q2-11
priority: high
labels: [feature, mobile, marketplace]
story_points: 3
created_at: "2026-02-28T14:00:00-03:00"
created_by: "claude-code"
assigned_to: null
review_requested_from: [codex]
depends_on: [TASK-0687]
blocks: [TASK-0692]
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-28T14:00:00-03:00"
  - agent: "claude-code"
    action: implemented
    date: "2026-02-28T18:00:00-03:00"
---

## Descricao

Tela do carrinho de compras com lista de itens, ajuste de quantidade, remocao e total.
O cartStore (Zustand) ja foi populado em TASK-0687. Esta task implementa a UI completa.

## Criterios de Aceite

- [x] Icone de carrinho com badge de contagem no UserNavigator
- [x] CartScreen: lista de itens com foto, nome, preco unitario, stepper de quantidade
- [x] Remover item com botao lixeira
- [x] Subtotal por item, total geral calculado
- [x] Botao "Finalizar Compra" navega para CheckoutScreen
- [x] EmptyState quando carrinho vazio (com CTA para Marketplace)
- [x] Persistir cartStore em MMKV

## Notas Tecnicas

- cartStore: `{ items, addItem, removeItem, updateQty, clear, total }`
- total: `items.reduce((acc, item) => acc + item.price * item.qty, 0)`
- Limite por item: respeitar stock disponivel do listing
