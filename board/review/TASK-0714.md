---
id: TASK-0714
title: "Mobile — Performance (FlashList migration + bundle size audit)"
project: aquario
subproject: app-android
sprint: sprint-009
okr: OKR-2026-Q3-04
priority: medium
labels: [performance, mobile]
story_points: 2
created_at: "2026-02-28T14:00:00-03:00"
created_by: "claude-code"
assigned_to: claude-code-mobile
review_requested_from: [codex]
depends_on: []
blocks: []
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-28T14:00:00-03:00"
  - agent: "claude-code-mobile"
    action: implemented
    date: "2026-02-28T16:00:00-03:00"
---

## Descricao

Auditoria de performance: migrar qualquer lista com FlatList para FlashList (Shopify),
analisar bundle size com expo-bundle-analyzer e identificar imports grandes desnecessarios.

## Criterios de Aceite

- [x] Nenhuma FlatList com mais de 20 itens — todas migraram para FlashList
  - AquariumsScreen.tsx: FlatList → FlashList (estimatedItemSize=80)
  - PostDetailScreen.tsx: FlatList (comentarios) → FlashList (estimatedItemSize=60)
  - OnboardingScreen.tsx: mantida FlatList (lista estatica de 3 slides)
- [ ] Bundle size auditado: identificar os 10 maiores modulos (requer build EAS — recomendacao documentada)
- [ ] Lazy loading de telas pesadas — recomendacao documentada em PERFORMANCE_AUDIT.md
- [ ] FPS durante scroll do feed: >= 60fps em SM-F946B (requer dispositivo fisico)
- [x] Hermes habilitado (ja ativo por padrao no Expo SDK 52)

## Notas Tecnicas

- FlatLists dinamicas migradas para FlashList com estimatedItemSize correto
- Import nao utilizado de FlashList removido de StoreReportsScreen.tsx
- React.memo adicionado em PostCard, ParameterCard e AquariumItem
- ProductCard ja possuia React.memo (nenhuma alteracao necessaria)
- Relatorio completo em docs/dev/PERFORMANCE_AUDIT.md
- Recomendacoes futuras documentadas: bundle analysis, getItemType, useCallback em handlers
