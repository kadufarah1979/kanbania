---
id: TASK-0671
version: 1
title: "Criar use-hook-events.ts — composable para consumir hook events via WebSocket"
project: kanbania
subproject: kanbania-dashboard
sprint: sprint-091
okr: OKR-2026-Q1-06
priority: high
labels:
  - feature
story_points: 1
created_at: "2026-02-27T12:00:00-03:00"
created_by: claude-code
assigned_to: null
review_requested_from: []
depends_on:
  - TASK-0670
blocks:
  - TASK-0673
acted_by:
  - agent: claude-code
    action: created
    date: "2026-02-27T12:00:00-03:00"
status: backlog
tokens_used: null
tokens_by_phase: null
---

## Descricao

Criar `dashboard/src/lib/hooks/use-hook-events.ts` para encapsular o consumo de
eventos de hooks via WebSocket.

## Criterios de Aceite

- [ ] Exporta `useHookEvents(agentId?: string): { events: HookEvent[] }`
- [ ] Filtra por `msg.type === "hook-event"`
- [ ] Se `agentId` informado, filtra tambem por `msg.agent_id === agentId`
- [ ] Mantém apenas os ultimos 50 eventos em memoria (FIFO)
- [ ] Usa `useWebSocket` existente internamente
- [ ] Tipado corretamente com TypeScript
