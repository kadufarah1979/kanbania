---
id: OKR-2026-Q2-01
period: "2026-Q2"
objective: "Criar fundacao de configuracao e migrar scripts simples para config-driven"
created_at: "2026-02-21T22:30:00-03:00"
created_by: claude-code
status: pending
key_results:
  - id: KR-01
    description: "scripts/lib/config.sh criado com 10+ funcoes utilitarias"
    target: 10
    current: 0
    unit: "funcoes implementadas"
  - id: KR-02
    description: "config.yaml expandido com 6 secoes novas (system, workflow, projects, agents extras, git, notifications)"
    target: 6
    current: 0
    unit: "secoes adicionadas"
  - id: KR-03
    description: "4 scripts simples migrados para config-driven (sync-check, update-status, heartbeat, lint)"
    target: 4
    current: 0
    unit: "scripts migrados"
acted_by:
  - agent: claude-code
    action: created
    date: "2026-02-21T22:30:00-03:00"
---

## Objetivo

Criar a camada de configuracao (config.sh) que todos os scripts vao consumir, expandir config.yaml com secoes de workflow/projects/notifications, e migrar os 4 scripts mais simples como validacao da fundacao.

## Key Results

### KR-01: config.sh com 10+ funcoes
- **Meta**: 10 funcoes (cfg, get_columns, get_agent_role, get_reviewers, can_transition, get_project_path, get_project_worktree, notify, auto-detect KANBAN_ROOT, auto-detect AGENT)
- **Atual**: 0
- **Como medir**: grep -c "^[a-z_]*() {" scripts/lib/config.sh
- **Evidencia**: Todos os scripts fazem source e usam as funcoes

### KR-02: config.yaml expandido
- **Meta**: 6 secoes novas
- **Atual**: 0
- **Como medir**: yq keys config.yaml
- **Evidencia**: system, workflow, projects, agents (com role/color/exec), git, notifications presentes

### KR-03: 4 scripts migrados
- **Meta**: 4 scripts
- **Atual**: 0
- **Como medir**: grep -L "source.*lib/config.sh" scripts/{kanban-sync-check,update-agent-status,agent-heartbeat,kanban-lint}.sh = vazio
- **Evidencia**: Scripts funcionam sem paths hardcoded

## Projetos Vinculados

- kanbania

## Sprints Vinculados

- sprint-080 (Config Foundation)
- sprint-081 (Scripts Simples Migrados)
