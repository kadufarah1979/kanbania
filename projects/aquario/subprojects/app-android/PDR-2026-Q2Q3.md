---
id: PDR-2026-Q2Q3
project: aquario
subproject: app-android
period: "2026-Q2-Q3"
title: "AquaBook Android — Roadmap Q2+Q3 2026: USER, Social, Marketplace, PRO e STORE"
status: approved
created_at: "2026-02-28T13:00:00-03:00"
created_by: claude-code
okrs:
  - OKR-2026-Q2-11
  - OKR-2026-Q3-04
sprints:
  - sprint-002
  - sprint-003
  - sprint-004
  - sprint-005
  - sprint-006
  - sprint-007
  - sprint-008
  - sprint-009
---

# PDR — AquaBook Android Q2+Q3 2026

## 1. Estado Atual

### Fundacao Concluida (Sprint 001 — efetivamente entregue)

| Feature | Status | Tasks |
|---------|--------|-------|
| Monorepo Expo SDK 52 + EAS setup | DONE | TASK-0647 |
| Design System base (tokens + NativeWind + componentes) | DONE | TASK-0648 |
| AuthStack (Onboarding, Login, Cadastro, ForgotPassword) | DONE | TASK-0649 |
| authStore Zustand + MMKV persist + auto-refresh | DONE | TASK-0650 |
| queryClient TanStack Query v5 + persister MMKV | DONE | TASK-0651 |
| UserNavigator (RootNavigator + BottomTabs + OfflineBanner) | DONE | TASK-0652 |
| AquariumDetailScreen (WS realtime + alertas + sparklines) | DONE | TASK-0653 |
| Fix splash screen Android (remove preventAutoHideAsync) | DONE | TASK-0654 |
| AquariumsScreen (lista de aquarios) | DONE | TASK-0655 |
| StatusBadge + ParameterCard (ParameterType enum) | DONE | TASK-0656 |
| apiClient interceptors + refresh token | DONE | TASK-0657 |
| Backend: Google OAuth endpoint | DONE | TASK-0658 |
| Backend: FCM token endpoints | DONE | TASK-0659 |
| Backend: AquariumDetail endpoints consolidados | DONE | TASK-0660 |
| HomeScreen dashboard (aquarios, alertas, ultima leitura) | DONE | TASK-0661 |

### Em Review

| Feature | Status | Tasks |
|---------|--------|-------|
| Fix splash screen (analise definitiva) | REVIEW | TASK-0654 |
| HomeScreen dashboard | REVIEW | TASK-0661 |

### Backlog Existente (app-android)

| Feature | SP | Tasks |
|---------|-----|-------|
| Google Sign-In nativo Android | 5 | TASK-0662 |
| Push Notifications FCM | 3 | TASK-0663 |

### Velocidade Historica

- Sprint 001: 16 SP planejados, ~26 SP entregues (excedeu escopo com 0653-0661)
- Velocidade real: ~26 SP/sprint (sprint-001 foi maior que o normal por ser fundacao)
- Capacidade conservadora adotada: **18 SP/sprint** (buffer de 3 SP para imprevistos)

---

## 2. Visao do Produto

**AquaBook Android** — app completo para 3 perfis de aquaristas:

- **USER (Free/Paid)**: monitoramento ao vivo, alertas, social, marketplace
- **PRO**: consultoria, agenda de clientes, financeiro
- **STORE**: e-commerce, gestao de catalogo, pedidos

OKR principal: `OKR-2026-Q2-11` — Lancar na Play Store com role USER 100% funcional ate Q2/2026.
OKR secundario: `OKR-2026-Q3-04` (novo) — Roles PRO e STORE funcionais e testados.

---

## 3. Gaps Identificados

### P0 — Criticos para Play Store (devem estar em Q2)

| Gap | Justificativa |
|-----|---------------|
| Excluir Conta | Obrigatorio pelo Google Play (LGPD + Data Safety) |
| Google Sign-In | OKR KR-01, TASK-0662 backlog |
| Push FCM | OKR KR-04, TASK-0663 backlog |
| Cadastrar Aquario | Funcionalidade core sem a qual o app nao tem dados |
| Vincular Dispositivo (QR Code) | Conecta hardware ao aquario — diferencial do produto |
| Controle de Reles | Diferencial de hardware, altamente visivel na Play Store |
| Historico de Parametros | Grafico de serie temporal — core do monitoramento |
| Data Safety Form + Privacy Policy | Obrigatorio Play Store |
| EAS Build Production + Store Listing | Publicacao |

### P1 — Importantes para completar USER role

| Gap | Componentes afetados |
|-----|---------------------|
| Configuracoes do Aquario | AquariumSettings screen + API CRUD |
| Regras de Alerta | AlertRules screen + API |
| Test Kits (leituras manuais) | TestKit screen + API |
| ProfileScreen completa | Avatar, bio, badges, edit |
| Biometria | expo-local-authentication |
| Notification Center | InApp notifications list |
| Feed Social | FlashList, like, comment |
| Criar Post | Texto + foto + dados aquario |
| Chat / Mensagens | Conversas + envio |

### P2 — Marketplace (completar USER Free)

| Gap | Componentes |
|-----|------------|
| Browse Marketplace | Filtros, busca, listagens |
| Detalhe de Produto | Galeria, carrinho |
| CartScreen + CheckoutScreen | cartStore + POST /orders |
| Meus Pedidos | Historico + status |
| Badges & Conquistas | UI + gamificacao |
| Blog/Artigos | Feed RSS traducido |
| Aquario Publico | Share link sem login |

### P3 — Roles PRO e STORE (Q3)

- ProNavigator + Dashboard + Clientes + Consultorias + Financeiro
- StoreNavigator + Catalogo + Pedidos + Atendimento + Relatorios

### P4 — Qualidade e Publicacao

- Detox E2E, RNTL unit tests, Sentry, OTA Updates, i18n pt-BR, Acessibilidade

---

## 4. Stack Tecnica

```
React Native + Expo SDK 52
TypeScript 5.7 (strict)
NativeWind v4 (Tailwind CSS)
React Navigation 7 (Stack + BottomTabs)
TanStack Query v5 + MMKV persist (7d cache)
Zustand (authStore, aquariumStore, uiStore, cartStore, notificationStore)
Axios (apiClient com JWT Bearer + auto-refresh)
Victory Native XL (graficos)
Expo Notifications + FCM
expo-auth-session (Google PKCE)
expo-local-authentication (biometria)
expo-barcode-scanner (QR Code)
Reanimated v3 + Gesture Handler
react-native-mmkv
EAS Build + EAS Submit
Sentry (fase 9)
expo-updates OTA (fase 9)
```

---

## 5. Escopo e Decomposicao de Tasks

### Regras de Decomposicao Aplicadas

- TASK-0662 (Google Sign-In, 5 SP) → EPIC: decomposta em TASK-0664 (3 SP) + TASK-0665 (2 SP)
- TASK-0672/0673 (Historico Parametros, 5 SP total) → 2 sub-tasks independentes
- TASK-0684/0685 (Chat, 5 SP total) → 2 sub-tasks independentes
- TASK-0691/0692 (Carrinho+Checkout, 5 SP total) → 2 sub-tasks independentes

Todas as tasks >= 5 SP foram decompostas antes de entrar em sprint.
Todas as tasks que afetam > 3 arquivos foram avaliadas e decompostas quando necessario.

---

## 6. Cronograma de Sprints

| Sprint | Periodo | Foco | SP |
|--------|---------|------|-----|
| sprint-002 | 2026-03-03 a 2026-03-16 | Auth Completo + FCM + Aquario CRUD | 18 |
| sprint-003 | 2026-03-17 a 2026-03-30 | Controles + Historico + Alertas + Perfil | 18 |
| sprint-004 | 2026-03-31 a 2026-04-13 | Social Inicio + Fauna + Equipamentos | 18 |
| sprint-005 | 2026-04-14 a 2026-04-27 | Social Completo + Marketplace Inicio | 18 |
| sprint-006 | 2026-04-28 a 2026-05-11 | Marketplace Completo + Play Store Prep | 18 |
| sprint-007 | 2026-05-12 a 2026-05-25 | PRO Role completo | 18 |
| sprint-008 | 2026-05-26 a 2026-06-08 | STORE Role completo | 18 |
| sprint-009 | 2026-06-09 a 2026-06-22 | Testes E2E + Polimento + Publicacao | 18 |

**Total**: 8 sprints × 18 SP = **144 SP** (Q2+Q3 2026)
**Entregues Sprint 001**: ~26 SP (fundacao)
**Total do projeto**: ~170 SP

**Milestones**:
- Sprint 006 fim (11/mai): USER role 100% completo → candidato a beta na Play Store
- Sprint 007 fim (25/mai): PRO role funcional
- Sprint 009 fim (22/jun): app publicado na Play Store (internal track → production)

---

## 7. Tasks Planejadas por Sprint

### Sprint 002 — Auth Completo + FCM + Aquario CRUD (18 SP)

| ID | Titulo | SP | Prioridade | Dep |
|----|--------|----|------------|-----|
| TASK-0664 | Google Sign-In — frontend PKCE (expo-auth-session, LoginScreen) | 3 | high | TASK-0658 |
| TASK-0665 | Google Sign-In — integrar resposta backend + store tokens | 2 | high | TASK-0664 |
| TASK-0663 | Push Notifications FCM — registro token + handlers fore/background | 3 | high | TASK-0659 |
| TASK-0666 | Excluir Conta (LGPD + Play Store obrigatorio) | 2 | critical | — |
| TASK-0667 | Cadastrar Aquario — form + POST /aquariums | 3 | high | — |
| TASK-0668 | Vincular Dispositivo via QR Code (expo-barcode-scanner) | 3 | high | TASK-0667 |
| TASK-0669 | Configuracoes de Notificacao no Perfil (notificationStore) | 2 | medium | TASK-0663 |

**Total: 18 SP**

### Sprint 003 — Controles + Historico + Alertas + Perfil (18 SP)

| ID | Titulo | SP | Prioridade | Dep |
|----|--------|----|------------|-----|
| TASK-0670 | Configuracoes do Aquario (editar nome, parametros, device) | 3 | high | TASK-0667 |
| TASK-0671 | Controle de Reles (toggle cards + WS optimistic update) | 3 | high | — |
| TASK-0672 | Historico de Parametros A — VictoryNative AreaChart + seletor periodo | 3 | high | — |
| TASK-0673 | Historico de Parametros B — endpoint integration + NavigationProp | 2 | high | TASK-0672 |
| TASK-0674 | Regras de Alerta (listar + criar + editar via API) | 3 | medium | — |
| TASK-0675 | Test Kits — registro manual de leituras (pH, NH3, etc.) | 2 | medium | — |
| TASK-0676 | ProfileScreen completa (avatar, bio, badges ganhos, edit) | 2 | medium | — |

**Total: 18 SP**

### Sprint 004 — Social Inicio + Fauna + Equipamentos (18 SP)

| ID | Titulo | SP | Prioridade | Dep |
|----|--------|----|------------|-----|
| TASK-0677 | Biometria — expo-local-authentication toggle | 2 | low | — |
| TASK-0678 | Feed Social A — FlashList, pull-to-refresh, like, comentario | 3 | high | — |
| TASK-0679 | Feed Social B — criar post (texto + foto + dado do aquario) | 3 | high | TASK-0678 |
| TASK-0680 | Perfil Publico (ver outro usuario, posts, badges) | 3 | medium | TASK-0678 |
| TASK-0681 | Livestock — fauna/flora list + adicionar especie | 3 | medium | — |
| TASK-0682 | Equipamentos — list + add + categoria | 2 | medium | — |
| TASK-0683 | Log de Manutencao (trocas de agua, limpezas) | 2 | medium | TASK-0682 |

**Total: 18 SP**

### Sprint 005 — Social Completo + Marketplace Inicio (18 SP)

| ID | Titulo | SP | Prioridade | Dep |
|----|--------|----|------------|-----|
| TASK-0684 | Chat A — lista de conversas + tela detail | 3 | high | — |
| TASK-0685 | Chat B — send message + polling/WS | 2 | high | TASK-0684 |
| TASK-0686 | Marketplace Browse — listagem + filtros + busca | 3 | high | — |
| TASK-0687 | Detalhe de Produto (galeria + add ao carrinho) | 3 | high | TASK-0686 |
| TASK-0688 | Badges & Conquistas UI (perfil + animacao desbloqueio) | 2 | medium | — |
| TASK-0689 | Aquario Publico (share link, visualizacao sem login) | 2 | low | TASK-0667 |
| TASK-0690 | Blog/Artigos (feed RSS curado, WebView detail) | 3 | low | — |

**Total: 18 SP**

### Sprint 006 — Marketplace Completo + Play Store Prep (18 SP)

| ID | Titulo | SP | Prioridade | Dep |
|----|--------|----|------------|-----|
| TASK-0691 | CartScreen (cartStore + add/remove/total + UI) | 3 | high | TASK-0687 |
| TASK-0692 | CheckoutScreen (endereco + POST /marketplace/orders) | 2 | high | TASK-0691 |
| TASK-0693 | Meus Pedidos (historico de compras + status entrega) | 2 | high | TASK-0692 |
| TASK-0694 | Automacao (criar/editar/testar regras de relay) | 3 | medium | TASK-0671 |
| TASK-0695 | Data Safety Form + Privacy Policy screen + Account Deletion link | 2 | critical | TASK-0666 |
| TASK-0696 | EAS Build production profile + Play Store listing draft | 3 | critical | — |
| TASK-0697 | Notification Center (in-app list, unread count badge) | 3 | medium | TASK-0663 |

**Total: 18 SP**

### Sprint 007 — PRO Role (18 SP)

| ID | Titulo | SP | Prioridade | Dep |
|----|--------|----|------------|-----|
| TASK-0698 | ProNavigator (RootNavigator extension, role: pro routing) | 2 | high | — |
| TASK-0699 | Dashboard Pro (lista clientes, alertas criticos, agenda) | 3 | high | TASK-0698 |
| TASK-0700 | Gestao de Clientes (ver aquarios com permissao de colaborador) | 3 | high | TASK-0699 |
| TASK-0701 | Consultorias A (criar/aceitar/encerrar consultoria) | 3 | high | TASK-0700 |
| TASK-0702 | Chat vinculado a consultoria | 3 | high | TASK-0701, TASK-0684 |
| TASK-0703 | Financeiro Pro (receitas, relatorio de atendimentos) | 2 | medium | TASK-0701 |
| TASK-0704 | Anamnese/Formulario de avaliacao inicial do aquario | 2 | medium | TASK-0701 |

**Total: 18 SP**

### Sprint 008 — STORE Role (18 SP)

| ID | Titulo | SP | Prioridade | Dep |
|----|--------|----|------------|-----|
| TASK-0705 | StoreNavigator (RootNavigator extension, role: store routing) | 2 | high | — |
| TASK-0706 | Dashboard Loja (vendas do dia, pedidos pendentes, estoque baixo) | 3 | high | TASK-0705 |
| TASK-0707 | Gestao de Catalogo (criar/editar listings + upload fotos) | 3 | high | TASK-0705 |
| TASK-0708 | Pedidos Loja (fila de pedidos + confirmar envio + historico) | 3 | high | TASK-0706 |
| TASK-0709 | Atendimento Loja (chat com compradores, historico por pedido) | 3 | high | TASK-0708, TASK-0684 |
| TASK-0710 | Colaboradores (convidar + permissoes por nivel) | 2 | medium | TASK-0705 |
| TASK-0711 | Relatorios Loja (faturamento, produtos mais vendidos) | 2 | medium | TASK-0708 |

**Total: 18 SP**

### Sprint 009 — Testes E2E + Polimento + Publicacao (18 SP)

| ID | Titulo | SP | Prioridade | Dep |
|----|--------|----|------------|-----|
| TASK-0712 | Detox E2E — login + cadastro aquario + alerta + checkout | 3 | high | — |
| TASK-0713 | RNTL unit tests shared components (cobertura >= 70%) | 3 | high | — |
| TASK-0714 | Performance (FlashList migration + bundle size audit) | 2 | medium | — |
| TASK-0715 | Sentry crash reporting + sourcemaps EAS | 2 | high | — |
| TASK-0716 | expo-updates OTA (canal production, rollback) | 2 | medium | — |
| TASK-0717 | Internacionalizacao pt-BR completa (todas strings) | 2 | medium | — |
| TASK-0718 | Acessibilidade WCAG basica (contrast, touch targets, labels) | 2 | medium | — |
| TASK-0719 | Play Store submit — internal track -> production (screenshots, review) | 2 | critical | TASK-0696, TASK-0695 |

**Total: 18 SP**

---

## 8. OKRs Vinculados

### OKR-2026-Q2-11 (existente — sprints 002 a 006)

Objetivo: Lancar o app AquaBook Android na Play Store com role USER completo e conformidade total.

| KR | Meta | Sprint que entrega |
|----|------|--------------------|
| KR-01: 100% features USER Free implementadas | Sprint 006 | sprint-002 a 006 |
| KR-02: App aprovado na Play Store | Sprint 009 | sprint-006 (prep), 009 (submit) |
| KR-03: PlanGate em 100% features premium | Sprint 006 | sprint-002 a 006 |
| KR-04: Push FCM >= 95% entrega | Sprint 002 | sprint-002 |

### OKR-2026-Q3-04 (novo — sprints 007 a 009)

Objetivo: Completar roles PRO e STORE no AquaBook Android com qualidade de producao.

| KR proposto | Meta | Sprint |
|-------------|------|--------|
| KR-01: PRO role 100% funcional (consultoria, clientes, financeiro) | Sprint 007 | sprint-007 |
| KR-02: STORE role 100% funcional (catalogo, pedidos, atendimento) | Sprint 008 | sprint-008 |
| KR-03: Cobertura de testes >= 70% (RNTL unit + Detox E2E criticos) | 70% | sprint-009 |
| KR-04: App sem crash rate > 0.1% (Sentry) em producao | < 0.1% | sprint-009 |

---

## Notas

- TASK-0662 (epic, 5 SP) decompostas em TASK-0664 + TASK-0665 antes de entrar em sprint.
- Sprint-001 encerrada informalmente — todas as tasks em done/. Fechar e arquivar no inicio do Sprint 002.
- Modelo Reader App: NUNCA exibir precos dentro do app — assinaturas via site externo.
- Apple Sign In (iOS) fora do escopo deste PDR — avaliar em Q4 2026 se houver demanda.
