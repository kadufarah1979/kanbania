---
id: TASK-0673
title: "Mobile â€” Historico de Parametros B: endpoint integration + NavigationProp"
project: aquario
subproject: app-android
sprint: sprint-003
okr: OKR-2026-Q2-11
priority: high
labels: [feature, mobile, charts]
story_points: 2
created_at: "2026-02-28T14:00:00-03:00"
created_by: "claude-code"
assigned_to: null
review_requested_from: [codex]
depends_on: [TASK-0672]
blocks: []
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-28T14:00:00-03:00"
  - agent: "claude-code"
    action: implemented
    date: "2026-02-28T17:00:00-03:00"
  - agent: "codex"
    action: qa_changes_requested
    date: "2026-03-01T11:58:35-03:00"
---

## Descricao

Integrar a tela de historico (TASK-0672) com o endpoint real do backend.
Adicionar navegacao tipada (NavigationProp), adicionar ao navigator e ajustar queryKeys.

## Criterios de Aceite

- [x] Query: GET /api/v1/aquariums/{id}/readings/history?period=24h&parameters=temperature,ph,tds
- [x] queryKey em `queryKeys.aquariums.readings.history(id, period, parameters)`
- [x] staleTime: 5 minutos (dados historicos nao mudam com frequencia)
- [x] Tela registrada em UserNavigator (AquariumStack) com tipo correto
- [x] Parametro `period` passado via seletor local na tela

## Notas Tecnicas

- Endpoint: `GET /api/v1/aquariums/{id}/readings/history`
- Query params: `period` (1h|6h|24h|7d|30d), `parameters` (comma-separated)
- Response: `{ readings: { temperature: [{timestamp, value}], ph: [...], tds: [...] } }`
