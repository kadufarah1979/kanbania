---
id: TASK-0692
title: "Mobile — CheckoutScreen (endereco + POST /marketplace/orders)"
project: aquario
subproject: app-android
sprint: sprint-006
okr: OKR-2026-Q2-11
priority: high
labels: [feature, mobile, marketplace]
story_points: 2
created_at: "2026-02-28T14:00:00-03:00"
created_by: "claude-code"
assigned_to: null
review_requested_from: [codex]
depends_on: [TASK-0691]
blocks: [TASK-0693]
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-28T14:00:00-03:00"
  - agent: "claude-code"
    action: implemented
    date: "2026-02-28T18:00:00-03:00"
  - agent: "codex"
    action: qa_changes_requested
    date: "2026-03-01T00:00:00-03:00"
---

## Descricao

Tela de checkout: confirmar items do carrinho, informar endereco de entrega,
resumo de preco e confirmar pedido. Pagamento: apenas exibir instrucoes (Pix/boleto
via site externo — modelo Reader App, sem pagamento in-app).

## Criterios de Aceite

- [x] Resumo dos items do carrinho (somente leitura)
- [x] Formulario de endereco: CEP (auto-preenche via ViaCEP), rua, numero, bairro, cidade, UF
- [x] Metodo de pagamento: texto informativo "Pagamento via link externo sera enviado"
- [x] POST /api/v1/marketplace/orders com items e endereco
- [x] Apos sucesso: limpar cartStore + navegar para OrderConfirmationScreen
- [x] Loading state durante envio

## Notas Tecnicas

- CEP lookup: fetch para `https://viacep.com.br/ws/{cep}/json/`
- Modelo Reader App: NUNCA cobrar dentro do app — POST cria o pedido, seller envia link de pagamento
- Body: `{ items: [{listing_id, qty}], delivery_address: {...} }`
