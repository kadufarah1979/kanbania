---
id: TASK-0653
title: "Dashboard do aquario — ParameterCards ao vivo, sparklines e alertas ativos"
project: aquario
subproject: app-android
sprint: null
okr: OKR-2026-Q2-11
priority: high
labels: [feature, mobile]
story_points: 3
created_at: "2026-02-26T00:00:00-03:00"
created_by: "claude-code"
assigned_to: null
review_requested_from: []
depends_on: [TASK-0652, TASK-0654]
blocks: []
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-26T00:00:00-03:00"
---

## Descricao

Implementar a tela principal do aquario (HomeScreen / AquariumDetailScreen) com leituras de sensores em tempo real via WebSocket, sparklines de historico 1h e lista de alertas ativos.

## Criterios de Aceitacao

- [ ] `AquariumDetailScreen` exibe:
  - Header: nome do aquario + status badge (ok/warn/crit) + temperatura da agua
  - Grid de `ParameterCard` para cada parametro monitorado (temp, tds, ph, etc.)
  - Cada card: valor atual, unidade, sparkline 1h, badge de status
  - Lista de alertas ativos (se houver) — card vermelho acima dos ParameterCards
  - Badge "Ultima atualizacao: X min atras" quando offline
- [ ] `ParameterCard` implementado conforme `mobile/ux/design-system/COMPONENTS.md`
- [ ] Sparklines usando Victory Native XL conforme `mobile/ux/design-system/CHARTS.md`
- [ ] Dados em tempo real via `useAquariumWS` (TASK-0654)
- [ ] Fallback offline: ultimo valor do cache MMKV com timestamp
- [ ] Loading state com `SkeletonLoader` (3 cards placeholder)
- [ ] Pull-to-refresh para revalidar dados

## Notas Tecnicas

- API: `GET /api/v1/aquariums/{id}`, `GET /api/v1/aquariums/{id}/readings/latest`
- WebSocket: `WS /ws/aquariums/{id}?token={accessToken}`
- Ref: `mobile/ux/design-system/COMPONENTS.md` secao ParameterCard
- Ref: `mobile/ux/design-system/CHARTS.md` secao Sparkline
- Sensor colors fixos: temperatura=#20B2AA, pH=#34D399, salinidade=#60A5FA, etc.
