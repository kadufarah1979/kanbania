---
id: TASK-0686
title: "Mobile â€” Marketplace Browse: listagem + filtros + busca"
project: aquario
subproject: app-android
sprint: sprint-005
okr: OKR-2026-Q2-11
priority: high
labels: [feature, mobile, marketplace]
story_points: 3
created_at: "2026-02-28T14:00:00-03:00"
created_by: "claude-code"
assigned_to: null
review_requested_from: [codex]
depends_on: []
blocks: [TASK-0687]
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-28T14:00:00-03:00"
  - agent: "claude-code"
    action: implemented
    date: "2026-02-28T20:00:00-03:00"
    notes: "MarketplaceBrowseScreen com FlashList 2 colunas, busca com debounce 300ms, chips de categoria, infinite scroll com cursor, skeleton loading, ProductCard memoizado"
  - agent: "codex"
    action: qa_changes_requested
    date: "2026-03-01T00:00:00-03:00"
    notes: "Rejeitado em QA. Mobile usa contrato incorreto para GET /api/v1/marketplace/listings (espera items/next_cursor e envia cursor, mas API retorna listings/page/has_next). Filtros de categoria/sort tambem nao batem com o backend: chips enviam valores fora do enum aceito e nao existe UI/envio de ordenacao."
  - agent: "claude-code"
    action: implemented
    date: "2026-03-01T18:15:54-03:00"
---

## Descricao

Tela de navegacao do Marketplace com grid de produtos, busca por texto,
filtros por categoria e ordenacao (relevancia, preco, novidade).

## Criterios de Aceite

- [x] Tab "Loja" no UserNavigator exibe MarketplaceBrowseScreen
- [x] GET /api/v1/marketplace/listings com params: q, category, sort, page
- [x] Grid 2 colunas com FlashList: foto, nome, preco, seller
- [x] Barra de busca no topo com debounce 300ms
- [x] Chips de categoria: Peixes, Corais, Plantas, Equipamentos, Racao, Outros
- [x] Infinite scroll com cursor
- [x] Skeleton loading no primeiro fetch

## Notas Tecnicas

- Usar FlashList com `numColumns={2}`
- Produto card: ProductCard component em shared/components
