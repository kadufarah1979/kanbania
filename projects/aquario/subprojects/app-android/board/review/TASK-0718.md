---
id: TASK-0718
title: "Mobile â€” GitHub Actions CI/CD (lint, typecheck, unit tests, EAS preview build)"
project: aquario
subproject: app-android
sprint: sprint-009
okr: OKR-2026-Q3-04
priority: medium
labels: [ci-cd, mobile, devops]
story_points: 2
created_at: "2026-02-28T14:00:00-03:00"
created_by: "claude-code"
assigned_to: claude-code
review_requested_from: [codex]
depends_on: []
blocks: []
acted_by:
  - agent: "claude-code"
    action: created
    date: "2026-02-28T14:00:00-03:00"
  - agent: "claude-code"
    action: implemented
    date: "2026-02-28T17:00:00-03:00"
---

## Descricao

Criar pipeline GitHub Actions para o projeto mobile: lint, typecheck, testes unitarios
e EAS Build preview (APK) automatico a cada push em main.

## Criterios de Aceite

- [x] `.github/workflows/mobile-ci.yml` criado
- [x] Job `lint-typecheck`: ESLint + tsc --noEmit
- [x] Job `unit-tests`: Jest + RNTL com --passWithNoTests --coverage
- [x] Job `eas-build-preview`: EAS Build android preview, somente em push para main
- [x] Cache npm configurado via `cache-dependency-path: mobile/package-lock.json`
- [x] Trigger em `paths: mobile/**` para evitar builds desnecessarios

## Notas Tecnicas

- Arquivo criado em `.github/workflows/mobile-ci.yml`
- Usa `expo/expo-github-action@v8` com secret `EXPO_TOKEN`
- Jobs de lint e testes rodam em paralelo; EAS build aguarda ambos (`needs`)
- Build EAS condicional: `if: github.ref == 'refs/heads/main'`
